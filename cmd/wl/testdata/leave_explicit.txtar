# Leave with explicit arg when multiple wastelands are joined.
# Only the target config is removed; the other survives.

exec wl leave hop/wl-commons
stdout 'Left wasteland'
stdout 'hop/wl-commons'

# Target config removed.
! exists .config/wasteland/wastelands/hop/wl-commons.json

# Other config survives.
exists .config/wasteland/wastelands/bob/wl-commons.json

-- .config/wasteland/wastelands/hop/wl-commons.json --
{
  "upstream": "hop/wl-commons",
  "fork_org": "alice",
  "fork_db": "wl-commons",
  "local_dir": "/tmp/test1",
  "rig_handle": "alice",
  "joined_at": "2025-01-15T00:00:00Z"
}
-- .config/wasteland/wastelands/bob/wl-commons.json --
{
  "upstream": "bob/wl-commons",
  "fork_org": "alice",
  "fork_db": "wl-commons",
  "local_dir": "/tmp/test2",
  "rig_handle": "alice",
  "joined_at": "2025-02-20T00:00:00Z"
}
